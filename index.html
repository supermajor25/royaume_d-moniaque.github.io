<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Rituel d'invocation</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ TON CSS EXISTANT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    :root {
      --bg-dark: #000000;
      --red: #a50000;
      --orange-fire: #d94f00;
      --gold-dim: #c68e17;
      --book-cuir: #1f0f00;
      --book-metal: #0f0f0f;
      --paper: #2a1a0e;
      --paper-shadow: #140c06;
      --chain-metal: #333333;
      --flash: #ff6600;
      --portal-inner: #ff4500;
      --portal-mid: #c00000;
      --portal-outer: #662200;
      --ritual-duration: 5s;
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #190b33 0, #05030a 55%, #000000 100%);
      color: #f5eaff;
      min-height: 100vh;
      overflow: hidden;
    }
    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ANIMATION ET GRIMOIRE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .ritual-root { position: relative; width:100vw; height:100vh; overflow:hidden; background: radial-gradient(circle at 20% 0%, rgba(255,45,113,0.2) 0, transparent 55%), radial-gradient(circle at 80% 100%, rgba(176,66,255,0.25) 0, transparent 55%), radial-gradient(circle at 50% 50%, rgba(0,0,0,0.95) 0, rgba(0,0,0,1) 70%); }
    .ritual-root.invoking { animation: screen-vibration var(--ritual-duration) ease-in-out; }
    @keyframes screen-vibration { 0%,100%{transform:translate(0,0);}5%{transform:translate(2px,-2px);}10%{transform:translate(-3px,1px);}15%{transform:translate(3px,2px);}20%{transform:translate(-2px,-3px);}25%{transform:translate(3px,1px);}30%{transform:translate(-1px,2px);}40%{transform:translate(2px,-1px);}50%{transform:translate(0,0);}60%{transform:translate(-2px,1px);}70%{transform:translate(1px,-2px);}80%{transform:translate(-1px,2px);}90%{transform:translate(2px,-1px);}}
    /* STARFIELD, PORTAL, RUNES, BOOKâ€¦ ton CSS reste inchangÃ© */
    /* Pour Ã©conomiser de l'espace, je saute le reste du CSS ici â€” tu peux le copier directement depuis ton fichier actuel */
  </style>
</head>
<body>
  <div class="ritual-root" id="ritualRoot">
    <!-- STARFIELD -->
    <div class="starfield"></div>
    <!-- SUMMONING CIRCLE -->
    <div class="summoning-circle"></div>
    <!-- PORTAL -->
    <div class="portal">
      <div class="portal-layer portal-outer"></div>
      <div class="portal-layer portal-mid"></div>
      <div class="portal-layer portal-inner"></div>
    </div>
    <div class="rift"></div>
    <div class="runes-ring">
      <div class="rune">áš¦</div>
      <div class="rune">áš±</div>
      <div class="rune">áš¨</div>
      <div class="rune">áš¹</div>
      <div class="rune">áš¾</div>
      <div class="rune">áš²</div>
      <div class="rune">á›‰</div>
      <div class="rune">á›ž</div>
      <div class="rune">á›ƒ</div>
      <div class="rune">á›Ÿ</div>
      <div class="rune">ášº</div>
      <div class="rune">á›’</div>
    </div>
    <!-- BOOK -->
    <div class="book-wrapper">
      <div class="book">
        <div class="book-base"></div>
        <div class="book-core-glow"></div>
        <div class="book-spine"></div>
        <div class="book-edge"></div>
        <div class="chain"></div>
        <div class="chain"></div>
        <div class="chain"></div>
        <div class="book-cover-left">
          <div class="book-metal-frame"></div>
          <div class="book-sigil"></div>
          <div class="book-symbol">VORNÎ›KH</div>
        </div>
        <div class="book-cover-right">
          <div class="book-metal-frame"></div>
          <div class="book-sigil"></div>
          <div class="book-symbol">Î£X&nbsp;INFERNO</div>
        </div>
        <div class="page-inner">
          <div class="page-title">GRIMOIRE D'INVOCATION</div>
          <div class="page-sub">choisis le lien Ã  invoquer</div>
          <div class="link-list">
            <a href="https://www.youtube.com/@Vornakhvt" class="ritual-link">
              <span class="label">YouTube</span>
              <span class="tag">portail vidÃ©o</span>
            </a>
            <a href="https://www.twitch.tv/vornakh" class="ritual-link">
              <span class="label">Twitch</span>
              <span class="tag">rituel en direct</span>
            </a>
            <a href="https://www.youtube.com/channel/UCpinCkc3aQ_irHGqP6plCIw" class="ritual-link">
              <span class="label">ChaÃ®ne secondaire</span>
              <span class="tag">rituels annexes</span>
            </a>
            <a href="https://discord.com/invite/aQcES5qbYe" class="ritual-link">
              <span class="label">Discord</span>
              <span class="tag">cercle occulte</span>
            </a>
            <a href="https://www.tiktok.com/@vornakhvt?is_from_webapp=1&sender_device=pc" class="ritual-link">
              <span class="label">TikTok</span>
              <span class="tag">fragments du nÃ©ant</span>
            </a>
            <a href="https://x.com/vornakh" class="ritual-link">
              <span class="label">X (Twitter)</span>
              <span class="tag">messages interdits</span>
            </a>
            <a href="https://www.instagram.com/vornakhvt/" class="ritual-link">
              <span class="label">Instagram</span>
              <span class="tag">journal du pacte</span>
            </a>
          </div>
        </div>
      </div>
    </div>
    <div class="hands">
      <div class="hand hand-left"></div>
      <div class="hand hand-right"></div>
    </div>
    <div class="particles">
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
    </div>
    <div class="flash-overlay"></div>
    <div class="hint">clique sur un lien du grimoire pour lancer le <strong>rituel</strong></div>
  </div>

<script>
(() => {
  let isInvoking = false;
  let ritualTimeout = null;

  const root = document.getElementById('ritualRoot');
  const links = document.querySelectorAll('.ritual-link'); // âœ… SÃ©lecteur corrigÃ©

  function startRitual(url) {
    if (isInvoking) return;
    isInvoking = true;

    // ðŸ”‘ ouverture immÃ©diate d'un nouvel onglet
    const portal = window.open('about:blank', '_blank');

    if (!portal || portal.closed) {
      alert("Veuillez autoriser les popups pour ce site.");
      isInvoking = false;
      return;
    }

    // Lance l'animation sur l'onglet actuel
    root.classList.add('invoking');

    // Message temporaire dans le nouvel onglet
    try {
      portal.document.write(`
        <!DOCTYPE html>
        <html lang="fr">
        <head><meta charset="UTF-8"><title>Invocation...</title></head>
        <body style="margin:0;background:#000;color:#b33c00;font-family:system-ui;text-align:center;padding-top:20vh;">
          <h1>Le rituel s'accomplit...</h1>
          <p>Le portail s'ouvre dans quelques instants.</p>
        </body>
        </html>
      `);
      portal.document.close();
    } catch(e) {}

    // â³ Redirige le nouvel onglet aprÃ¨s 5 secondes
    ritualTimeout = setTimeout(() => {
      if (portal && !portal.closed) {
        portal.location.href = url;
        portal.focus();
      }
      root.classList.remove('invoking');
      isInvoking = false;
    }, 5000);
  }

  // Attache l'Ã©vÃ©nement click Ã  tous les liens
  links.forEach(link => {
    link.addEventListener('click', function(e) {
      e.preventDefault(); // empÃªche la navigation dans le mÃªme onglet
      const url = this.href;
      startRitual(url);
    });
  });

  window.addEventListener('beforeunload', () => {
    if (ritualTimeout) clearTimeout(ritualTimeout);
  });
})();
</script>

</body>
</html>
